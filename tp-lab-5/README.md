# Lab-7

## Лабораторный практикум №7 (Ocean)

![GitHub pull requests](https://img.shields.io/github/issues-pr/HSE-CS/tp-lab-7)
![GitHub closed pull requests](https://img.shields.io/github/issues-pr-closed/HSE-CS/tp-lab-7)

![Relative date](https://img.shields.io/date/1616792399)

### Задание

Разработать систему имитационного моделирования "Океан". Моделируется замкнутая экологическая система по принципу хищник-жертва.

**Имитационное** моделирование в данном случае предполагает, что мы не используем математические модели, формулы, а получаем результаты моделирования на основе случайного взаимодействия объектов в океане.

В системе рассматриваются сущности:

- **Ocean** - двумерная матрица ячеек.
- **Cell** - ячейка океана, которая может быть либо пустой, либо содержать объект.
- **Object** - объект, который может занимать ячейку океана.
- **Stone** - неподвижный объект океана, просто занимающий ячейку.
- **Prey** - рыба-жертва. Передвигается случайным образом по океану, размножается и умирает через заданные промежутки времени.
- **Predator** - рыба-хищник. Передвигается по океану, поедает рыбу-жертву, размножается. Может умереть от голода.

Наша программная модель предполагает, что в систему могут вводиться новые сущности, в том числе основанные на существующих (супер-хищник и т.д.)

### Этапы 

На начальном этапе необходимо разработать классы для основных сущностей. Океан выступает контейнером для ячеек, ячейка является контейнером для объектов. Все объекты объединяются в коллекцию (вектор или список) и океан управляет всеми объектами через цикл (подобно управлению работниками в предыдущей лабораторной работе). Океан посылает всем объектам сообщение **live()**, и каждый объект ведет себя в соответствии с заданным алгоритмом.

Рассылка сообщений должна производиться именно по списку, а не по позиции ячейки в океане. Это гарантирует независимость порядка порядка поступления сообщения от позиции в океане. 

В результате "жизнедеятельности" объектов в океане происходят следующие события:

- живые объекты хаотично перемещаются в соседние ячейки;
- живые объекты размножаются, питаются и умирают;

Моделирование продолжается до тех пор, пока:

- пользователь не прерывает процесс;
- в океане заканчивается пища - объекты **Prey**;
- в океане заканчиваются хищники - объекты **Predators**;

### Краткое описание живых объектов

#### Prey

Низшее звено пищевой цепочки. Живет заданное количество итераций. Выполняет свободные перемещения по океану с шагом 1 ячейка. Размножается через определенный период времени.

#### Predator

Хищник - высшее звено пищевой цепи. Наследует поведение **Prey**, но может умирать от голода и охотиться на добычу. Может размножаться только в сытом состоянии.

### Результаты моделирования

В начале в океан загружаются параметры всех объектов и случайным образом помещаются объекты (количество указывается в параметрах). После этого включается основной цикл и далее возможны три исхода:

- Смерть хищников. Добыча заполняет все доступное пространство океана.
- Смерть добычи. Хищники размножаются, но потом неизбежно умирают с голода. Океан пустеет.
- Колебания численности. Число хищников и жертв колеблется по гармоническому закону. Это самый предпочтительный вариант.
